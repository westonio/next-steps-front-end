<%= javascript_include_tag "agent_description.js" %>

<div class="create-new-user">
  <p>Do you already have an account?  <%= link_to "Click here to sign in", users_login_path %></p>
  <h2>Create an Account</h2>
  <div id="create-user-form">
    <%= form_with(model: @user, url: users_path, method: :post, local: true) do |form| %>
    
      <%= form.label :role, "Select Account Type" %> <%= form.select :role, User.roles.keys[0..1], {}, style: 'width: 20%;', id: 'user-role' %><br />
      
      <div id="agent-description" style="display: none">
        <%= form.label :description, "Tell us why you want to be an agent: " %>
        <%= form.text_field :description, placeholder: "Your description here" %><br />
      </div>
      
      <%= form.label :username, "Choose a username" %> <%= form.text_field :username, size: "30" %><br />
      <%= form.label :password, "Enter a password" %> <%= form.password_field :password, size: "30" %><br />
      <%= form.label :password_verify, "Confirm the password" %> <%= form.password_field :password_verify, size: "30" %><br />
      <%= form.submit "Create Account" %>
    <% end %>
  </div>
    <div id="google-oauth">
      <p>Or create an account using your existing Google account:</p>
      <a  href="/auth/google_oauth2" id="g-oauth-link">
        <button type="button" class="btn btn-md" id="g-oauth-button">
          <img  alt="Google sign-in" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png" />
          Create account using Google
          </button>
      </a>
  </div>
</div>

